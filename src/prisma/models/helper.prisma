model AuditLog {
  id         BigInt          @id @default(autoincrement())
  userId     String?         @map("user_id") @db.Uuid
  entityType String?         @map("entity_type") @db.VarChar(100)
  entityId   String?         @map("entity_id") @db.Uuid
  action     AuditActionType
  oldData    Json?           @map("old_data")
  newData    Json?           @map("new_data")
  createdAt  DateTime        @default(now()) @map("created_at")

  user       User?           @relation(fields: [userId], references: [id])

  @@map("audit_logs")
}

model Setting {
  id        Int      @id @default(autoincrement())
  tenantId  String   @map("tenant_id") @db.Uuid
  key       String   @db.VarChar(100)
  value     String?  @db.Text
  updatedAt DateTime @updatedAt @map("updated_at")

  tenant    Tenant   @relation(fields: [tenantId], references: [id])

  @@map("settings")
}

model Attachment {
  id         String   @id @default(uuid()) @db.Uuid
  tenantId   String   @map("tenant_id") @db.Uuid
  entityType String?  @map("entity_type") @db.VarChar(100)
  entityId   String?  @map("entity_id") @db.Uuid
  filePath   String?  @map("file_path") @db.VarChar(255)
  uploadedAt DateTime @map("uploaded_at")

  tenant     Tenant   @relation(fields: [tenantId], references: [id])

  @@map("attachments")
}